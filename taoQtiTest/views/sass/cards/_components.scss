/*
    Document   : components
    Created on : 8 oct. 2013, 11:16:52
    Author     : Bertrand Chevrier <bertrand@taotesting.com>
    Description:
        Contains style related to components
*/

.card {

    /* Labels */
    .label{
        @include border-radius($radius);
        @include shadow(#ccc, 1px, 1px);
        padding:0;
        display: inline-block;
        border: 1px solid #666;
        background-color: #666;
        color: #fff;
        padding: .3em .4em;
        &.small{
            font-size:.9em;
            padding: .2em .3em;
        }
    }

    /* States */
    .active{
        border: dashed 1px $altColor !important;
    }
    .valid{
        border: dashed 1px $validColor !important;
    }
    .placeholder {
        border: dashed 1px #333 !important;
        min-height: 2em;
    }
    .ui-draggable{
        cursor: move;
        &:before{
         @include jui-icon(0, (-224px), grey);
        }
    }
    .ui-sortable > * {
        cursor: move;
        &:before{
         @include jui-icon( (-128px), (-48px), grey);
        }
    }


/*
 * Components
 */

 
    
/* ListBox  */
    ul.listbox {
        margin:.1em 0;
        padding:0;
        list-style-type: none;
        display: block;
        @include box-sizing(border-box);

        > li {
            white-space: no-wrap;
            position: relative;
            min-width: 75%;
            border: $contrastBorder;
            border-bottom-width:0;
            vertical-align: top;
            margin: 0;
            padding: .2em 2em .2em .2em;
            background-color: #fafafa;
            height:1.8em;

            > .label{
                position: absolute;
                right:0;
                border-bottom-right-radius: 0;
                border-top-right-radius: 0;
            }
            
            > [data-button-group] {
                position: absolute;
                right:2em;
            }
            
            &:first-child {
                @include border-top-radius($radius);
            }
            
            &:last-child {
                @include border-bottom-radius($radius);
                border-bottom-width:1px;
            }
            
            &.placeholder {
                background : none;
                margin: .5em;
                opacity:0.6;
            }
        }
    }

/* toggler */
    .toggler{

        &:hover{
            color: $altColor;
        }

        &:before {
            @include jui-icon( (-64px), 0);
        }

        &.opened:before {
            @include jui-icon(0, 0);
        }

    }
    
    .toggled {
        display:none;
    }

/* Adder */
    .adder{
        &:before{
            @include jui-icon( (-16px), (-128px) );
        }
        &:hover:before{
            @include jui-icon( (-32px), (-128px) );
        }
    }


/* Disabler */
    .disabled{
        color:#999;
    }
    input.disabled{
        background-color:#ccc;
    }
    
/* Closer */
    .closer{
        &:before{
            @include jui-icon( (-32px), (-192px) );
        }
    }
    
    [data-button-group] {
        @include border-radius($radius);
        @include shadow(#ccc, 1px, 1px);
        padding:0;
        display: inline-block;
        border: 1px solid #666;
        background-color: #666;
        color: #fff;
        > a {
            float:left;
            border:none;
            margin:0;
            cursor:pointer;
            padding:.2em .4em;
            border-width: 0 !important;
            border-right: solid 1px #999;
            
            &.icon {
                vertical-align: bottom;
                width: 16px;
                height: 16px;
                padding: .1em;
            }
            
            &:last-child {
                border-right-width: 0;
            }
            &.active {
                 background-color: lighten($altColor, 5%);
                 opatcity:0.6;
            }
        }
        
    }
    
    /* Incrementer */
    
    input[type="text"].incrementer{
        width: 30px;
        text-align: right;        
        & ~ .incrementer-ctrl{
            display: inline-block;
            margin: 0 .5em 0 0;
            padding-left: 4px;
            > a {
                width: 16px;
                &.inc {
                    margin-top: -3px;
                    @include jui-icon(0, (-16px), grey);
                    &:hover, &:focus, &:active{
                        @include jui-icon( 0, (-16px));
                        display: block;
                        height: 12px;
                    }
                    display: block;
                    height: 12px;
                }
                &.dec {
                     margin-top: -2px;
                     margin-left: -1px;
                     @include jui-icon( (-64px), (-16px), grey);
                     &:hover, &:focus, &:active{
                        @include jui-icon( (-64px), (-16px));
                        display: block;
                        height: 12px;
                     }
                     display: block;
                     height: 12px;
                }
            }
        }
    }
    
    /* InPlacer */
    [data-in-place], .inplace {
        cursor: pointer;
        input {
            cursor: auto;
        }
        &:hover {
            color: $altFontColor;
        }
    }
    
    /* Flipper */
    .flip{
        overflow: hidden;
    }
    .flip-back{
        background-color: #ddd !important;
        display: none;
    }
}

/* Actions bar */
.nav {

    position: relative;
    
    h1, h2, h3, h4, h5 {
        margin: 0;
        display: inline-block;
    }
    
    .actions {
        margin: 0;
        position: absolute;
        top: 0;
        
        &.right {
            right: 0;
        }
    }
}

/*
 * Forms and actions
 */

.card, .nav {

    /* Form layout */
    .form-group{
        padding: .5em;

        > label {
            width: 30%;
            float: left;
        }

        > div {
            margin-left: 30%;
        }

        > label.after{
            float: none;
        }

        .form-info{
            font-size:.9em;
            color:#555;
        }
    }

    /* Inputs */
     input[type=text], textarea{
        @include baseFont;
        @include box-sizing(border-box);
        @include rounded;
        border: solid 1px #ccc;
        height:1.8em;
        vertical-align: top;
        margin:0;
        padding:.1em;
        width:150px;
        
        &.micro{
            width:30px;
        }
        &.mini{
            width:60px;
        }
        &.small{
            width:90px;
        }
        &.big{
            width:200px;
        }
        &:active{
             @include shadow(#999, 1px, 1px);
        }
        &:focus{
            border: solid 1px #999;
        }
        &:disabled{
            background-color: #eee;
        }
    }
    
    button{
        @include invFont;
        @include box-sizing(border-box);
        @include rounded;
        font-size: 1.1em;
        border: solid 1px $altColor;
        padding: .4em .6em;
        cursor: pointer;
        
        &.micro{
            font-size: .8em;
            padding: .1em .2em;
        }
        &.small{
            font-size: .9em;
            padding: .2em .3em;
        }
        &.big{
            font-size: 1.2em;
            padding: .5em .75em;
        }
        &:active, &:focus, &:hover{
            border: solid 1px darken($altColor, 25%);
        }
        &:disabled{
            background-color: lighten($altColor, 25%);
            cursor: inherit;
        }
    }
    
    textarea{
        height:10em;
        width: 300px;
        &.micro{
            width:75px;
            height:2em;
        }
        &.mini{
            width:150px;
            height:4em;
        }
        &.small{
            width:200px;
            height:8em;
        }
        &.big{
            width:500px;
            height:15em;
        }
    }
    
    @mixin appendBox {
        @include border-left-radius($radius);
        @include border-right-radius(0);

        & ~ .ctrl {
            display: inline-block;
            @include box-sizing(border-box);
            @include border-left-radius(0);
            @include border-right-radius($radius);
            border: solid 1px #ccc;
            border-left-width:0;
            width: 24px;
            height: 1.8em;
            padding:.1em;
            cursor: pointer;
            background-color: #eee;
            &:focus {
                border: solid 1px #666;
            }
        }
    }
    
    input[type=text]{
        @include appendBox;
    }


/* search input */
    input[type=text].search {
        @include appendBox;
        
        & ~ .ctrl {
            background-image: url('../../../../tao/views/img/search_disabled.png');
            background-repeat: no-repeat;
            background-position: center;
        }
    }
}